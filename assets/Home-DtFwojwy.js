import{s as h,d as u,a as i,q as k,w as I,c as q,g as C}from"./firebaseConfig-BdAa5G6p.js";import{d,o as _,c as f,a as s,w as x,u as m,B as y,b as g,e as w,r as v,N as D,f as R}from"./index-xJjP6Nmh.js";const $=d({__name:"CreateRoom",setup(p){const n=g(),t=()=>Math.floor(1e5+Math.random()*9e5).toString();function c(){const e=["Rat","Ox","Tiger","Rabbit","Dragon","Snake","Horse","Goat","Monkey","Rooster","Dog","Pig"],o=e.map(a=>({animal:a,value:0,view_value:0}));let l=0;for(;l<6;){const a=Math.floor(Math.random()*e.length);o[a].value===0&&(o[a].value=1,o[a].view_value=1,l++)}return o}const r=async()=>{const e=t();try{await h(u(i,"rooms",e),{roomId:e,createdAt:new Date});const o=c(),l=u(i,"rooms",e);for(const a of o)await h(u(l,"animals",a.animal),a);alert(`房間已創建！房號：${e}`),n.push({path:`/room/${e}`,query:{host:"1"}})}catch(o){console.error("Error adding document: ",o)}};return(e,o)=>(_(),f("div",null,[s(m(y),{class:"text-8xl h-fit",type:"primary",onClick:r},{default:x(()=>[w("開房")]),_:1})]))}}),b={class:"flex flex-col items-center"},B=d({__name:"JoinRoom",setup(p){const n=g();v("");const t=v(),c=async()=>{if(t.value){const r=k(q(i,"rooms"),I("roomId","==",t.value));(await C(r)).empty?alert("房間不存在！"):n.push(`/room/${t.value}`)}else alert("請輸入房間號！")};return(r,e)=>(_(),f("div",b,[s(m(D),{size:"large",class:"max-w-56 block",value:t.value,"onUpdate:value":e[0]||(e[0]=o=>t.value=o),placeholder:"輸入房間ID"},null,8,["value"]),s(m(y),{class:"text-8xl h-fit",type:"info",onClick:c},{default:x(()=>[w("入房")]),_:1})]))}}),M=R("p",{class:"text-5xl mt-8"},"古董局中局 - 大廳",-1),N={class:"flex flex-col h-96 justify-around"},A=d({__name:"Home",setup(p){return(n,t)=>(_(),f("div",null,[M,R("div",N,[s($),s(B)])]))}});export{A as default};

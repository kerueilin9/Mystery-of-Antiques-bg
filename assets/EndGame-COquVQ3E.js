import{d as b,f as D,r as s,m as C,a as i,o as k,c as I,j as l,t as m,b as _,w as h,e as M,p as N,u as B}from"./index-Kfy5H1H5.js";import{d as R,a as y,q as v,c as f,w as x,g}from"./firebaseConfig-BR434puB.js";const V={class:"w-10/12 max-w-sm mt-8 mx-auto text-center"},E={class:"text-3xl"},G={class:"text-9xl mt-28"},j={class:"mt-16"},T=b({__name:"EndGame",setup(A){const u=N();B(),D();const o=s();o.value=u.params.roomId;const q=R(y,"rooms",o.value),d=s();d.value=u.query.player;const n=s(),c=s(""),p=["LaoChaofeng","MedicineIsNot","ZhengGuoqu"],S=async t=>{try{const e=v(f(q,"players"),x("name","==",t));return(await g(e)).docs[0].data()}catch(e){console.log(e)}},w=async()=>{try{const t=v(f(y,"rooms"),x("roomId","==",o.value)),a=(await g(t)).docs[0].data();a.score>=2&&!p.includes(n.value.character)||a.score<=0&&p.includes(n.value.character)?c.value="勝":c.value="敗"}catch(t){console.log(t)}};return C(async()=>{n.value=await S(String(d.value)),await w()}),(t,e)=>{const r=i("n-button"),a=i("router-link");return k(),I("div",V,[l("p",E,"房號："+m(o.value),1),l("div",G,m(c.value),1),l("div",j,[_(a,{to:"/Mystery-of-Antiques-bg/"},{default:h(()=>[_(r,{round:"",class:"text-6xl h-fit p-4",type:"primary"},{default:h(()=>[M("回到大廳")]),_:1})]),_:1})])])}}});export{T as default};

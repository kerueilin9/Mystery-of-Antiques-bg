import{d as X,o as s,c as $,j as C,f as de,r as d,g as L,h as ve,a as f,i as U,w as l,b as r,e as D,q as Z,s as G,F as W,t as E,p as oe,u as me,l as he,v as ge,m as xe,k as ke}from"./index-PhVZ6tUK.js";import{d as H,a as Q,c as T,g as B,q as le,w as re,u as ce,k as be,s as Re,l as Me,r as $e,b as De,e as Ce,o as Ae,i as qe,j as Se}from"./firebaseConfig-BR434puB.js";import{b as ie,c as te,i as ue,d as se,a as fe}from"./setFirebaseData-DDiyQXTP.js";import{_ as ze}from"./SelectModal.vue_vue_type_script_setup_true_lang-Bccca0Oe.js";const Ue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ie=C("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Pe=C("path",{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38z",fill:"currentColor"},null,-1),Ve=C("path",{d:"M399.34 90L218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z",fill:"currentColor"},null,-1),Fe=[Ie,Pe,Ve],je=X({name:"CreateOutline",render:function(P,S){return s(),$("svg",Ue,Fe)}}),Ne={class:"flex justify-end mt-8"},Te={class:"text-xl"},Be=X({__name:"CheckAntiquesModal",props:{showModal:{},showModalModifiers:{},currentRound:{},currentRoundModifiers:{},playerData:{},playerDataModifiers:{}},emits:["update:showModal","update:currentRound","update:playerData"],setup(q){const P=oe();me();const S=de(),_=d();_.value=P.params.roomId;const R=H(Q,"rooms",_.value),m=L(q,"showModal"),k=L(q,"currentRound"),y=L(q,"playerData"),n=d(),p=d(null),g=d(""),M=d(!0),I=["JiYunfu","MedicineIsNot","ZhengGuoqu","LaoChaofeng"],F=async()=>{try{const w=T(R,`ReadomAnimalForRound${k.value}`),o=await B(w),i=[];o.forEach(v=>{const u=v.data(),z={name:u.name,value:u.value,view_value:u.view_value};i.push(z)}),console.log(i),n.value=i}catch{}},c=async()=>{let w=null;if(console.log(p.value),p.value===null||p.value.length===0)S.warning("請選擇至少一隻動物");else if(y.value.isCheckAble>k.value)S.warning("本輪已查看過，請勿作弊");else if(y.value.attacked>0)S.warning("你被藥不然偷襲了!!!",{closable:!0,duration:0}),M.value=!1,ie(R,"players","name",y.value.name,"isCheckAble",k.value+1);else{const o=typeof p.value=="string"?[p.value]:p.value;w=n.value.filter(v=>o.some(u=>u===v.name));let i=[];I.includes(y.value.character)?w.forEach(v=>{i.push(`${v.name}是${v.value>=0?v.value?"真的":"假的":"什麼鬼"}`)}):w.forEach(v=>{i.push(`${v.name}是${v.view_value>=0&&y.value.inActiveRound!==k.value?v.view_value?"真的":"假的":"什麼鬼"}`)}),g.value=i.join(`
`),console.log(g.value),M.value=!1,ie(R,"players","name",y.value.name,"isCheckAble",k.value+1),te(R,y.value.name,k.value,g.value)}},h=w=>{p.value=w};return ve(()=>m.value,async w=>{w===!0&&(p.value=null,g.value="",await F(),y.value.isCheckAble<=k.value?M.value=!0:M.value=!1)}),(w,o)=>{const i=f("n-radio"),v=f("n-gi"),u=f("n-grid"),z=f("n-radio-group"),x=f("n-checkbox"),N=f("n-checkbox-group"),J=f("n-button"),ee=f("n-divider"),ae=f("n-card"),A=f("n-modal");return s(),U(A,{show:m.value,"onUpdate:show":o[3]||(o[3]=e=>m.value=e),"mask-closable":!0,class:"bg-amber-100"},{default:l(()=>[r(ae,{class:"max-w-90 w-96 font-style-Bakudai","header-style":"font-size: 28px",title:"鑑定古董",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{footer:l(()=>[C("div",Ne,[C("div",null,[r(J,{class:"text-xl",size:"large",onClick:o[1]||(o[1]=e=>m.value=!1)},{default:l(()=>[D("返回")]),_:1})]),C("div",null,[M.value?(s(),U(J,{key:0,class:"text-xl",size:"large",type:"primary",onClick:o[2]||(o[2]=e=>c())},{default:l(()=>[D("確認")]),_:1})):Z("",!0)])])]),default:l(()=>[y.value.character!=="MakeAWish"?(s(),U(z,{key:0,value:p.value,"onUpdate:value":o[0]||(o[0]=e=>p.value=e),name:"radiogroup",class:"w-full text-center"},{default:l(()=>[r(u,{"y-gap":8,cols:2},{default:l(()=>[(s(!0),$(W,null,G(n.value,(e,a)=>(s(),U(v,{key:a},{default:l(()=>[(s(),U(i,{class:"text-xl text-center",key:e.name,value:e.name,label:e.name},null,8,["value","label"]))]),_:2},1024))),128))]),_:1})]),_:1},8,["value"])):(s(),U(N,{key:1,max:2,"onUpdate:value":h,class:"w-full text-center"},{default:l(()=>[r(u,{"y-gap":8,cols:2},{default:l(()=>[(s(!0),$(W,null,G(n.value,(e,a)=>(s(),U(v,{key:a},{default:l(()=>[r(x,{class:"text-xl text-center",value:e.name,label:e.name},null,8,["value","label"])]),_:2},1024))),128))]),_:1})]),_:1})),r(ee,{dashed:"",class:"text-2xl"},{default:l(()=>[D(" 結果 ")]),_:1}),C("div",Te,E(g.value),1)]),_:1})]),_:1},8,["show"])}}}),ye=async(q,P)=>{try{const S=le(T(q,"players"),re("character","==",P));return(await B(S)).docs[0].data()}catch(S){console.log(S)}},Le={key:0},Ee={key:1},Ze={class:"flex justify-end mt-8"},Oe=X({__name:"SkillModal",props:{showModal:{},showModalModifiers:{},currentRound:{},currentRoundModifiers:{},playerData:{},playerDataModifiers:{}},emits:["update:showModal","update:currentRound","update:playerData"],setup(q){const P=de(),S=oe(),_=d(),R=d();R.value=S.params.roomId;const m=H(Q,"rooms",R.value),k=L(q,"showModal"),y=L(q,"currentRound"),n=L(q,"playerData"),p=d(),g=d(!1),M=d(""),I=d(""),F=d(""),c=d(""),h=d(!1),w=d(!0),o=["MakeAWish","FangZhen","JiYunfu","KidoKana","HuangYanyan"],i=he(()=>!(!g.value&&M.value.length===0&&I.value.length===0&&F.value.length===0)),v=d([]),u=async()=>{try{const e=T(m,"players"),a=await B(e),b=[],t=[],V=[];a.forEach(Y=>{const O=Y.data();if(O.remain){const K={label:O.name,value:O.character};t.push(K)}else{const K={label:O.name,value:O.character};b.push(K)}const ne={label:O.name,value:O.character};V.push(ne)}),_.value=V,console.log(_.value),v.value=[{type:"group",label:"本輪已行動的玩家",key:"acted",children:b},{type:"group",label:"本輪還未行動的玩家",key:"pending",children:t}]}catch{}},z=async()=>{try{console.log(y.value);const e=T(m,`ReadomAnimalForRound${y.value}`),a=await B(e),b=[];a.forEach(t=>{const V=t.data(),Y={name:V.name,value:V.value,view_value:V.view_value};b.push(Y)}),console.log(b),p.value=b}catch{}},x=async e=>{try{const a=H(m,`ReadomAnimalForRound${y.value}`,e),b=await be(a);if(b.exists()){const t=b.data().view_value;t>=0&&await Re(a,{view_value:t===1?0:1},{merge:!0})}else console.warn("無對應資料")}catch(a){console.error("老嘲諷技能問題: ",a)}},N=async e=>{if(e)try{(await B(T(m,`ReadomAnimalForRound${y.value}`))).forEach(b=>{x(b.id)}),te(m,n.value.name,y.value,"使用了技能")}catch(a){console.error("老嘲諷技能問題: ",a)}},J=async e=>{try{const a=le(T(m,`ReadomAnimalForRound${y.value}`),re("name","==",e));let t=(await B(a)).docs.map(V=>{V.data().value===1?ce(V.ref,{value:-1,view_value:-1}):V.data().value===0&&ce(V.ref,{value:-2,view_value:-2})});await Promise.all(t),te(m,n.value.name,y.value,`你將${e}隱藏`)}catch(a){console.log("鄭國渠技能問題："+a)}},ee=async e=>{try{await ue(m,"players","character",e,"attacked",1),e==="FangZhen"&&await ue(m,"players","character","MakeAWish","attacked",1),e==="JiYunfu"&&await ue(m,"players","character",e,"attacked",10);const a=await ye(m,e);te(m,n.value.name,y.value,`你襲擊了${a.name}`)}catch(a){console.log("藥不然技能問題："+a)}},ae=async e=>{c.value=`此玩家是${o.includes(e)?"好人":"壞人"}`;const a=await ye(m,e);te(m,n.value.name,y.value,`你驗了${a.name}，${c.value}`)},A=async()=>{if(n.value.isSkillAble>y.value)P.warning("本輪已使用過");else if(n.value.attacked>0)P.warning("你被藥不然偷襲了!!!",{closable:!0,duration:0}),w.value=!1,ie(m,"players","name",n.value.name,"isSkillAble",y.value+1);else{switch(n.value.character){case"LaoChaofeng":h.value=!0,await N(g.value),k.value=!1,h.value=!1;break;case"MedicineIsNot":h.value=!0,await ee(M.value),k.value=!1,h.value=!1;break;case"ZhengGuoqu":h.value=!0,await J(I.value),k.value=!1,h.value=!1;break;case"FangZhen":h.value=!0,await ae(F.value),w.value=!1,h.value=!1;break}ie(m,"players","name",n.value.name,"isSkillAble",y.value+1)}};return ve(()=>k.value,e=>{e===!0&&(n.value.isSkillAble<=y.value?w.value=!0:w.value=!1),n.value.character==="ZhengGuoqu"&&z(),(n.value.character==="FangZhen"||n.value.character==="MedicineIsNot")&&u()}),(e,a)=>{const b=f("n-checkbox"),t=f("n-radio"),V=f("n-gi"),Y=f("n-grid"),O=f("n-radio-group"),ne=f("n-select"),K=f("n-button"),pe=f("n-card"),we=f("n-modal");return s(),U(we,{show:k.value,"onUpdate:show":a[6]||(a[6]=j=>k.value=j)},{default:l(()=>[r(pe,{class:"max-w-90 w-96 font-style-Bakudai","header-style":"font-size: 28px",title:"使用技能",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{footer:l(()=>[C("div",Ze,[C("div",null,[r(K,{class:"text-xl",size:"large",onClick:a[4]||(a[4]=j=>k.value=!1)},{default:l(()=>[D("返回")]),_:1})]),C("div",null,[w.value?(s(),U(K,{key:0,class:"text-xl",size:"large",type:"primary",loading:h.value,disabled:!i.value,onClick:a[5]||(a[5]=j=>A())},{default:l(()=>[D("確認")]),_:1},8,["loading","disabled"])):Z("",!0)])])]),default:l(()=>[n.value.character==="LaoChaofeng"?(s(),$("div",Le,[r(b,{checked:g.value,"onUpdate:checked":a[0]||(a[0]=j=>g.value=j),class:"text-xl"},{default:l(()=>[D(" 之後玩家鑑寶結果真假互換(同陣營和姬雲浮不適用) ")]),_:1},8,["checked"])])):n.value.character==="ZhengGuoqu"?(s(),$("div",Ee,[r(O,{value:I.value,"onUpdate:value":a[1]||(a[1]=j=>I.value=j),name:"radiogroup",class:"w-full text-center"},{default:l(()=>[r(Y,{"y-gap":8,cols:2},{default:l(()=>[(s(!0),$(W,null,G(p.value,(j,_e)=>(s(),U(V,{key:_e},{default:l(()=>[(s(),U(t,{class:"text-xl",key:j.name,value:j.name,label:j.name},null,8,["value","label"]))]),_:2},1024))),128))]),_:1})]),_:1},8,["value"])])):n.value.character==="MedicineIsNot"?(s(),U(ne,{key:2,size:"large",class:"custom-select-font-size-game",value:M.value,"onUpdate:value":a[2]||(a[2]=j=>M.value=j),options:v.value},null,8,["value","options"])):n.value.character==="FangZhen"?(s(),U(ne,{key:3,size:"large",class:"custom-select-font-size-game",value:F.value,"onUpdate:value":a[3]||(a[3]=j=>F.value=j),options:_.value},null,8,["value","options"])):Z("",!0),c.value.length!==0?(s(),U(pe,{key:4,title:"鑑定結果"},{default:l(()=>[D(E(c.value),1)]),_:1})):Z("",!0)]),_:1})]),_:1},8,["show"])}}}),Ge={class:"flex justify-end mt-8"},We=X({__name:"VoteModal",props:{showModal:{},showModalModifiers:{},currentRound:{},currentRoundModifiers:{},playerData:{},playerDataModifiers:{}},emits:["update:showModal","update:currentRound","update:playerData"],setup(q){const P=oe();me();const S=de(),_=d();_.value=P.params.roomId;const R=H(Q,"rooms",_.value),m=L(q,"showModal"),k=L(q,"currentRound");L(q,"playerData");const y=d(),n=d(),p=d(null),g=d(""),M=d(!0),I=d(!1),F=async o=>{try{const i=T(R,`ReadomAnimalForRound${o}`),v=await B(i),u=[];v.forEach(z=>{const x=z.data(),N={label:x.name,value:x.value};u.push(N)}),console.log(u),y.value=u,n.value=u.map(z=>({label:z.label,value:z.label.toString()}))}catch{}},c=async()=>{try{const o=le(T(R,"players"));let v=(await B(o)).docs.map(u=>{u.data().myTurn===0?ce(u.ref,{remain:1}):u.data().myTurn===1&&u.data().attacked>0&&ce(u.ref,{attacked:Me(-1)})});await Promise.all(v)}catch{}},h=async()=>{let o=null;if(p.value===null||p.value.length===0)S.warning("請選擇至少一隻動物");else{const i=typeof p.value=="string"?[p.value]:p.value;console.log(p.value),o=i.map(u=>y.value.find(z=>z.label===u)).filter(u=>u!==void 0);for(let u=0;u<2;u++)Number(o[u].value)>=0?o[u].value?await se(_.value,"score",1):await se(_.value,"score",-1):o[u].value===-1?await se(_.value,"score",1):await se(_.value,"score",-1);let v=[];v.push(`${o[0].label}被掩蓋了`),v.push(`${o[1].label}是${Number(o[1].value)>=0?o[1].value?"真的":"假的":o[1].value===-1?"真的":"假的"}`),g.value=v.join(`
`),console.log(g.value),M.value=!1,I.value=!0}},w=async()=>{I.value&&k.value===3?(S.success("鑑寶環節結束"),await fe(_.value,"currentRound",1)):I.value&&(await F(k.value+1),await ue(Q,"rooms","roomId",_.value,"currentRound",1),await fe(_.value,"currentRound",1),await c(),S.success(`下一回合的動物為 ${n.value[0].label}，${n.value[1].label}，${n.value[2].label}，${n.value[3].label}`,{closable:!0,duration:0})),m.value=!1,p.value=null};return ve(()=>m.value,o=>{o===!0&&(F(k.value),M.value=!0,I.value=!1)}),(o,i)=>{const v=f("n-select"),u=f("n-button"),z=f("n-card"),x=f("n-modal");return s(),U(x,{show:m.value,"onUpdate:show":i[3]||(i[3]=N=>m.value=N),"mask-closable":!0},{default:l(()=>[r(z,{"header-style":"font-size: 28px",class:"max-w-90 w-96 font-style-Bakudai",title:"投票",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{footer:l(()=>[C("div",Ge,[C("div",null,[r(u,{size:"large",type:"warning",onClick:i[1]||(i[1]=N=>w())},{default:l(()=>[D(E(`${I.value?"前往下一回合":"返回"}`),1)]),_:1})]),C("div",null,[M.value?(s(),U(u,{key:0,size:"large",type:"primary",onClick:i[2]||(i[2]=N=>h())},{default:l(()=>[D("確認")]),_:1})):Z("",!0)])])]),default:l(()=>[r(v,{value:p.value,"onUpdate:value":i[0]||(i[0]=N=>p.value=N),options:n.value,multiple:""},null,8,["value","options"]),g.value.length!==0?(s(),U(z,{key:0,title:"鑑定結果"},{default:l(()=>[D(E(g.value),1)]),_:1})):Z("",!0)]),_:1})]),_:1},8,["show"])}}}),Ye={class:"flex justify-around"},Je={class:"text-2xl"},Ke={key:0},He={class:"text-2xl"},Qe={class:"flex justify-around"},Xe={class:"text-2xl"},ea={key:0},aa={class:"text-2xl"},ta={class:"flex justify-around"},la={class:"text-2xl"},oa={key:0},na={class:"text-2xl"},sa={class:"flex justify-end mt-8"},ua=X({__name:"RecordModal",props:{showModal:{},showModalModifiers:{},currentRound:{},currentRoundModifiers:{},playerData:{},playerDataModifiers:{}},emits:["update:showModal","update:currentRound","update:playerData"],setup(q){const P=oe(),S=d();S.value=P.params.roomId;const _=H(Q,"rooms",S.value),R=L(q,"showModal"),m=L(q,"currentRound"),k=L(q,"playerData"),y=d(!0),n=d(!1),p=d([]),g=d(),M=(c,h)=>ge("span",{style:{fontSize:h}},c),I=async c=>{try{const h=T(_,`ReadomAnimalForRound${c}`),w=await B(h),o=[];return w.forEach(i=>{const v=i.data(),u={name:v.name,value:v.value};o.push(u)}),console.log(o),o}catch{}},F=async c=>{for(let h=1;h<=c;h++)p.value[h]=await I(h)};return ve(()=>R.value,c=>{c===!0&&(F(m.value),g.value=k.value.record,y.value=!0,n.value=!1)}),(c,h)=>{const w=f("n-divider"),o=f("n-tab-pane"),i=f("n-tabs"),v=f("n-button"),u=f("n-card"),z=f("n-modal");return s(),U(z,{show:R.value,"onUpdate:show":h[1]||(h[1]=x=>R.value=x),"mask-closable":!0},{default:l(()=>[r(u,{"header-style":"font-size: 32px",class:"max-w-90 w-96 font-style-Bakudai",title:"紀錄",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{footer:l(()=>[C("div",sa,[C("div",null,[r(v,{size:"large",onClick:h[0]||(h[0]=x=>R.value=!1)},{default:l(()=>[D(" 返回 ")]),_:1})])])]),default:l(()=>[r(i,{"default-value":"firstRound",size:"large","justify-content":"space-evenly",type:"segment",animated:""},{default:l(()=>[r(o,{name:"firstRound",tab:M("第一回合","20px")},{default:l(()=>[r(w,{dashed:"",class:"text-3xl"},{default:l(()=>[D(" 本回合古董 ")]),_:1}),C("div",Ye,[(s(!0),$(W,null,G(p.value[1],x=>(s(),$("div",Je,E(x.name),1))),256))]),g.value.round1.length!=0?(s(),$("div",Ke,[r(w,{dashed:"",class:"text-3xl"},{default:l(()=>[D(" 歷史行動 ")]),_:1}),(s(!0),$(W,null,G(g.value.round1,x=>(s(),$("div",He,E(x),1))),256))])):Z("",!0)]),_:1},8,["tab"]),r(o,{name:"secondRound",tab:M("第二回合","20px")},{default:l(()=>[r(w,{dashed:"",class:"text-3xl"},{default:l(()=>[D(" 本回合古董 ")]),_:1}),C("div",Qe,[(s(!0),$(W,null,G(p.value[2],x=>(s(),$("div",Xe,E(x.name),1))),256))]),g.value.round2!=0?(s(),$("div",ea,[r(w,{dashed:"",class:"text-3xl"},{default:l(()=>[D(" 歷史行動 ")]),_:1}),(s(!0),$(W,null,G(g.value.round2,x=>(s(),$("div",aa,E(x),1))),256))])):Z("",!0)]),_:1},8,["tab"]),r(o,{name:"thirdRound",tab:M("第三回合","20px")},{default:l(()=>[r(w,{dashed:"",class:"text-3xl"},{default:l(()=>[D(" 本回合古董 ")]),_:1}),C("div",ta,[(s(!0),$(W,null,G(p.value[3],x=>(s(),$("div",la,E(x.name),1))),256))]),g.value.round3!=0?(s(),$("div",oa,[r(w,{dashed:"",class:"text-3xl"},{default:l(()=>[D(" 歷史行動 ")]),_:1}),(s(!0),$(W,null,G(g.value.round3,x=>(s(),$("div",na,E(x),1))),256))])):Z("",!0)]),_:1},8,["tab"])]),_:1})]),_:1})]),_:1},8,["show"])}}}),ra={class:"w-10/12 max-w-sm mx-auto text-center font-style-MaShanZheng"},ca={class:"h-1/6 py-7"},ia={class:"text-3xl"},da={class:"flex flex-col justify-around h-3/5"},va={class:"flex flex-col items-center h-1/5 py-6"},ma="/Mystery-of-Antiques-bg",wa=X({__name:"Game",setup(q){const P=oe(),S=me(),_=de(),R=d();R.value=P.params.roomId;const m=H(Q,"rooms",R.value),k=d();k.value=P.query.player;const y=he(()=>P.query.host==="1"),n=d(0),p=d(!1),g=d(!1),M=d(!1),I=d(!1),F=d(!1),c=d(),h=["LaoChaofeng","MedicineIsNot"],w=async A=>{n.value=A,A===4&&S.push({path:`${ma}/vote/${R.value}`,query:{...P.query}})},o=async()=>{try{const A=T(m,"players"),e=await B(A);let a=0;return e.forEach(b=>{b.data().remain&&++a}),console.log("剩餘玩家人數: "+a),a}catch{return-1}},i=async()=>{try{const A=le(T(m,"players"),re("name","==",k.value));return(await B(A)).docs[0].data()}catch{}},v=async A=>{try{const e=le(T(m,"players"),re("character","==",A));return(await B(e)).docs[0].data()}catch{}},u=async()=>{const A=await i();if(!h.includes(A.character))_.warning("你沒有隊友");else if(A.character==="LaoChaofeng"){const e=await v("MedicineIsNot");_.success(`你的隊友是${e.name}`)}else if(A.character==="MedicineIsNot"){const e=await v("LaoChaofeng");_.success(`你的隊友是${e.name}`)}},z=async()=>{c.value=await i(),c.value.character==="FangZhen"?_.warning("你沒有鑑寶能力"):c.value.myTurn===1?g.value=!0:_.warning("還沒有到你的回合")},x=async()=>{c.value=await i(),c.value.myTurn===1?M.value=!0:_.warning("還沒有到你的回合")},N=async()=>{c.value=await i(),c.value.myTurn===1?p.value=!0:_.warning("還沒有到你的回合")},J=async()=>{c.value=await i(),await o()===0?I.value=!0:_.warning("還有玩家未行動")},ee=async()=>{c.value=await i(),F.value=!0},ae=async A=>{try{const e=$e(De,"rooms"),a=Ce(e,Ae("roomId"),qe(A));Se(a,async b=>{if(b.exists()){const t=b.val(),V=Object.keys(t)[0],Y=t[V].currentRound||0;console.log(Y),await w(Y)}else console.log("roomId not found")})}catch(e){console.error("Error querying roomId",e)}};return xe(async()=>{await ae(R.value)}),(A,e)=>{const a=f("n-button"),b=f("n-icon");return s(),$("div",ra,[C("div",ca,[C("p",ia,"房号："+E(R.value),1)]),C("div",da,[r(a,{class:"text-4xl h-14",type:"primary",size:"large",onClick:e[0]||(e[0]=t=>u())},{default:l(()=>[D("查看队友")]),_:1}),r(a,{class:"text-4xl h-14",type:"primary",size:"large",onClick:e[1]||(e[1]=t=>z())},{default:l(()=>[D("鉴定古董")]),_:1}),r(a,{class:"text-4xl h-14",type:"primary",size:"large",onClick:e[2]||(e[2]=t=>x())},{default:l(()=>[D("使用技能")]),_:1}),r(a,{class:"text-4xl h-14",type:"primary",size:"large",onClick:e[3]||(e[3]=t=>N())},{default:l(()=>[D("选择下一位玩家")]),_:1}),y.value?(s(),U(a,{key:0,class:"text-4xl h-14",type:"warning",size:"large",onClick:e[4]||(e[4]=t=>J())},{default:l(()=>[D("投票")]),_:1})):Z("",!0)]),C("div",va,[r(a,{onClick:e[5]||(e[5]=t=>ee()),circle:"",class:"w-20 h-20",dashed:"",type:"info"},{icon:l(()=>[r(b,{class:"text-6xl"},{default:l(()=>[r(ke(je))]),_:1})]),_:1})]),r(Be,{showModal:g.value,"onUpdate:showModal":e[6]||(e[6]=t=>g.value=t),currentRound:n.value,"onUpdate:currentRound":e[7]||(e[7]=t=>n.value=t),playerData:c.value,"onUpdate:playerData":e[8]||(e[8]=t=>c.value=t)},null,8,["showModal","currentRound","playerData"]),r(Oe,{showModal:M.value,"onUpdate:showModal":e[9]||(e[9]=t=>M.value=t),currentRound:n.value,"onUpdate:currentRound":e[10]||(e[10]=t=>n.value=t),playerData:c.value,"onUpdate:playerData":e[11]||(e[11]=t=>c.value=t)},null,8,["showModal","currentRound","playerData"]),r(ze,{showModal:p.value,"onUpdate:showModal":e[12]||(e[12]=t=>p.value=t),playerData:c.value,"onUpdate:playerData":e[13]||(e[13]=t=>c.value=t)},null,8,["showModal","playerData"]),r(We,{showModal:I.value,"onUpdate:showModal":e[14]||(e[14]=t=>I.value=t),currentRound:n.value,"onUpdate:currentRound":e[15]||(e[15]=t=>n.value=t),playerData:c.value,"onUpdate:playerData":e[16]||(e[16]=t=>c.value=t)},null,8,["showModal","currentRound","playerData"]),r(ua,{showModal:F.value,"onUpdate:showModal":e[17]||(e[17]=t=>F.value=t),currentRound:n.value,"onUpdate:currentRound":e[18]||(e[18]=t=>n.value=t),playerData:c.value,"onUpdate:playerData":e[19]||(e[19]=t=>c.value=t)},null,8,["showModal","currentRound","playerData"])])}}});export{wa as default};

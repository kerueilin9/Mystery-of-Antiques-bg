import{d as f,h as x,r as t,j as w,o as D,c as I,g as d,t as p,l as B,u as C}from"./index-B7PP9dpX.js";import{d as M,a as i,q as m,c as h,w as y,g as v}from"./firebaseConfig-BR434puB.js";const R={class:"w-10/12 max-w-sm mt-8 mx-auto text-center"},b={class:"text-3xl"},k={class:"text-9xl mt-28"},F=f({__name:"EndGame",setup(E){const r=B();C(),x();const o=t();o.value=r.params.roomId;const _=M(i,"rooms",o.value),l=t();l.value=r.query.player;const s=t(),c=t(""),u=["LaoChaofeng","MedicineIsNot","ZhengGuoqu"],g=async a=>{try{const e=m(h(_,"players"),y("name","==",a));return(await v(e)).docs[0].data()}catch(e){console.log(e)}},S=async()=>{try{const a=m(h(i,"rooms"),y("roomId","==",o.value)),n=(await v(a)).docs[0].data();n.score>=2&&!u.includes(s.value.character)||n.score<=0&&u.includes(s.value.character)?c.value="勝":c.value="敗"}catch(a){console.log(a)}};return w(async()=>{s.value=await g(String(l.value)),await S()}),(a,e)=>(D(),I("div",R,[d("p",b,"房號："+p(o.value),1),d("div",k,p(c.value),1)]))}});export{F as default};

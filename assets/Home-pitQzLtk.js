import{s as v,d as i,a as m,q as b,w as $,c as q,g as k}from"./firebaseConfig-B3bhHNjF.js";import{d as _,r as d,a as C,o as f,c as p,b as l,w as g,e as y,u as w,f as x,N as I,B as M,g as R}from"./index-q8fPHson.js";const D="/Mystery-of-Antiques-bg",A=_({__name:"CreateRoom",setup(h){const c=w(),t=()=>Math.floor(1e5+Math.random()*9e5).toString(),n=d(!1);function u(){const e=["Rat","Ox","Tiger","Rabbit","Dragon","Snake","Horse","Goat","Monkey","Rooster","Dog","Pig"],o=e.map(a=>({animal:a,value:0,view_value:0}));let s=0;for(;s<6;){const a=Math.floor(Math.random()*e.length);o[a].value===0&&(o[a].value=1,o[a].view_value=1,s++)}return o}const r=async()=>{const e=t();try{n.value=!0,await v(i(m,"rooms",e),{roomId:e,currentRound:0,createdAt:new Date});const o=u(),s=i(m,"rooms",e);for(const a of o)await v(i(s,"animals",a.animal),a);alert(`房間已創建！房號：${e}`),c.push({path:`${D}/room/${e}`,query:{host:"1"}})}catch(o){n.value=!1,console.error("Error adding document: ",o)}};return(e,o)=>{const s=C("n-button");return f(),p("div",null,[l(s,{class:"text-8xl h-fit",type:"primary",loading:n.value,onClick:r},{default:g(()=>[y("開房")]),_:1},8,["loading"])])}}}),B={class:"flex flex-col items-center"},N="/Mystery-of-Antiques-bg",S=_({__name:"JoinRoom",setup(h){const c=w();d("");const t=d(),n=async()=>{if(t.value){const u=b(q(m,"rooms"),$("roomId","==",t.value));(await k(u)).empty?alert("房間不存在！"):c.push(`${N}/room/${t.value}`)}else alert("請輸入房間號！")};return(u,r)=>(f(),p("div",B,[l(x(I),{size:"large",class:"max-w-56 block",value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e),placeholder:"輸入房間ID"},null,8,["value"]),l(x(M),{class:"text-8xl h-fit",type:"info",onClick:n},{default:g(()=>[y("入房")]),_:1})]))}}),V=R("p",{class:"text-5xl mt-8"},"古董局中局 - 大廳",-1),j={class:"flex flex-col h-96 justify-around"},T=_({__name:"Home",setup(h){return(c,t)=>(f(),p("div",null,[V,R("div",j,[l(A),l(S)])]))}});export{T as default};
